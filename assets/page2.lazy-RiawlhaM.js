import{R as m,r as p,j as e,c as y,a as w,m as N}from"./index-yNur1MXC.js";import{B as x}from"./BoxSection-DS82AI-k.js";const b=({traits:s,setTraits:r,isSave:c,setIsSave:n,description:d})=>{const[a,l]=m.useState(""),[o,u]=m.useState(!1),i=()=>{r([...s,a]),l(""),n(!0)},f=()=>{localStorage.setItem("newCharacter",JSON.stringify({state:{character:{...JSON.parse(localStorage.getItem("newCharacter")||"{}").state.character,descriptions:{...JSON.parse(localStorage.getItem("newCharacter")||"{}").state.character.descriptions,[d]:s}}}})),n(!1)};return p.useEffect(()=>{c&&f()},[c]),e.jsxs("div",{className:"relative flex h-full w-full flex-col gap-8",children:[e.jsx("button",{type:"button",className:"btn btn-accent sticky top-5 z-20 self-end",onClick:()=>u(!o),children:o?"Close":"Add New"}),s.map((h,t)=>e.jsx("pre",{children:e.jsx("p",{className:"w-full text-wrap break-words",children:h})},t)),e.jsx("div",{className:`flex flex-col justify-center items-center fixed left-1/2 -translate-x-1/2 ${o?"block":"hidden"}`,children:e.jsxs(x,{styles:"h-[unset] w-max px-20 bg-opacity-90 py-10 justify-center flex-col gap-5 items-center text-start",children:[e.jsx("textarea",{className:"textarea textarea-bordered max-w-lg resize-none",placeholder:"Trait",name:"trait",cols:100,rows:10,value:a,onChange:h=>l(h.target.value)}),e.jsx("button",{type:"button",className:"btn btn-primary w-full",onClick:i,children:"Add"})]})})]})},C=({attacks:s,setAttacks:r,isSave:c,setIsSave:n,description:d})=>{const[a,l]=p.useState(),[o,u]=p.useState(!1),i=(t,g)=>{t.preventDefault(),g(j=>({...j,[t.target.name]:t.target.value}))},f=()=>{localStorage.setItem("newCharacter",JSON.stringify({state:{character:{...JSON.parse(localStorage.getItem("newCharacter")||"{}").state.character,descriptions:{...JSON.parse(localStorage.getItem("newCharacter")||"{}").state.character.descriptions,[d]:s}}}})),n(!1)},h=t=>{t.preventDefault(),a&&(r([...s,a]),l({name:"",type:"",range:"",attack:"",damage:"",description:""})),n(!0)};return p.useEffect(()=>{c&&f()},[c]),e.jsxs("div",{className:"relative flex h-full w-full flex-col gap-5",children:[e.jsx("button",{type:"button",className:"btn btn-accent sticky top-5 z-20 self-end",onClick:()=>u(!o),children:o?"Close":"Add New"}),s.map((t,g)=>e.jsxs(x,{styles:"grid w-full grid-cols-[1fr_3fr] h-min gap-5 px-10 py-5 border-accent",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("p",{className:"grid text-sm",children:[e.jsx("span",{className:"text-3xl underline",children:t.name}),t.type]}),e.jsxs("p",{children:["Range: ",t.range]}),e.jsxs("p",{children:["Attack: ",t.attack]}),e.jsxs("p",{children:["Damage: ",t.damage]})]}),e.jsx("pre",{children:e.jsx("p",{className:"text-wrap break-words",children:t.description})})]},g)),e.jsx("div",{className:`flex flex-col justify-center items-center fixed left-1/2 -translate-x-1/2  ${o?"block":"hidden"}`,children:e.jsxs(x,{styles:"h-[unset] px-20 bg-opacity-90 py-10 justify-center flex-col gap-5 items-start text-start",children:[e.jsx("input",{type:"text",name:"name",placeholder:"Attack Name",className:"input w-full focus-within:outline-0",value:(a==null?void 0:a.name)||"",onChange:t=>i(t,l)}),e.jsx("input",{type:"text",name:"type",placeholder:"Type",className:"input w-full focus-within:outline-0",value:(a==null?void 0:a.type)||"",onChange:t=>i(t,l)}),e.jsx("input",{type:"text",name:"range",placeholder:"Range",className:"input w-full focus-within:outline-0",value:(a==null?void 0:a.range)||"",onChange:t=>i(t,l)}),e.jsx("input",{type:"text",name:"attack",placeholder:"Attack",className:"input w-full focus-within:outline-0",value:(a==null?void 0:a.attack)||"",onChange:t=>i(t,l)}),e.jsx("input",{type:"text",name:"damage",placeholder:"Damage",className:"input w-full focus-within:outline-0",value:(a==null?void 0:a.damage)||"",onChange:t=>i(t,l)}),e.jsx("textarea",{name:"description",placeholder:"Description",className:"textarea resize-none focus-within:outline-0",rows:4,cols:50,value:(a==null?void 0:a.description)||"",onChange:t=>i(t,l)}),e.jsx("button",{type:"button",className:"btn btn-primary w-full",onClick:t=>h(t),children:"Add"})]})})]})},S=({description:s})=>{const{state:r}=JSON.parse(localStorage.getItem("newCharacter")||"{}"),[c,n]=p.useState(!1),[d,a]=p.useState(r==null?void 0:r.character.descriptions.racialTraits),[l,o]=p.useState(r==null?void 0:r.character.descriptions.featureTraits),[u,i]=p.useState(r==null?void 0:r.character.descriptions.attacks);if(s==="racialTraits")return e.jsx(b,{traits:d,setTraits:a,isSave:c,setIsSave:n,description:s});if(s==="featureTraits")return e.jsx(b,{traits:l,setTraits:o,isSave:c,setIsSave:n,description:s});if(s==="attacks")return e.jsx(C,{attacks:u,setAttacks:i,isSave:c,setIsSave:n,description:s});if(s==="spells")return e.jsx("h1",{children:"Spells"})},A=y("/create-character/page2")({component:v});function v(){const[s,r]=p.useState("racialTraits"),c=w(),n=d=>{r(d)};return e.jsxs(N.div,{className:"flex h-full w-full gap-2 overflow-hidden",initial:{opacity:0},animate:{opacity:1},children:[e.jsx("button",{type:"submit",className:"align-self-end btn btn-ghost w-[2%] self-center rounded-lg border-2 border-slate-900 bg-base-300 text-neutral",onClick:()=>c({to:"/create-character/page1"}),children:"<"}),e.jsxs(x,{styles:"w-full px-5 flex-col text-start gap-2 overflow-y-scroll pt-0",children:[e.jsxs("div",{className:"sticky -top-5 z-10 flex w-full gap-2 bg-base-300 pt-5",children:[e.jsx("button",{type:"button",onClick:()=>n("racialTraits"),className:"btn btn-ghost",children:"Racial Traits"}),e.jsx("button",{type:"button",onClick:()=>n("featureTraits"),className:"btn btn-ghost",children:"Features & Traits"}),e.jsx("button",{type:"button",onClick:()=>n("attacks"),className:"btn btn-ghost",children:"Attacks"}),e.jsx("button",{type:"button",onClick:()=>n("spells"),className:"btn btn-ghost",children:"Spells"})]}),e.jsx(S,{description:s})]}),e.jsx("button",{type:"submit",className:"align-self-end btn btn-ghost w-[2%] self-center rounded-lg border-2 border-slate-900 bg-base-300 text-neutral",children:">"})]})}export{A as Route};
