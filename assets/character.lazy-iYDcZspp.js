import{c as x,r as a,j as e,m,B as o,P as p}from"./index-Bk2sBgSS.js";import{L as u,D as d,N as g}from"./Notes-DDYf5wm-.js";import{s as j}from"./sendData-DPyFW_SQ.js";const v=x("/daggerheart/character")({component:b});function b(){const{state:t}=JSON.parse(localStorage.getItem("character")??"{}"),[s,n]=a.useState(!1),[l,r]=a.useState(!1),[i,c]=a.useState(!1);if(!t.character)return e.jsx(u,{});const h=async f=>{await j("characters",t.character.id,{stats:{...f},characterProfile:{...t.character.characterProfile}}),r(!1)};return a.useEffect(()=>{n(!1),s&&r(!0)},[s]),e.jsxs(m.main,{className:"grid h-full w-full grid-rows-[.2fr_1fr] gap-5",initial:{opacity:0},animate:{opacity:1},children:[l&&e.jsx("button",{className:"btn btn-ghost absolute top-5 m-0 h-min min-h-0 place-self-center border-2 border-accent px-4 py-2 text-accent hover:border-accent hover:bg-accent hover:text-base-100 active:-translate-x-1/2",onClick:()=>h(t.character.stats),children:"Save Character"}),e.jsxs("section",{className:"flex gap-5",children:[e.jsx(o,{styles:"w-[50%] flex justify-around items-center p-5",children:e.jsx(d,{})}),e.jsx(o,{styles:"w-[10%] flex flex-col justify-start",children:e.jsx("nav",{className:"flex flex-col gap-3 p-3",children:e.jsx("button",{onClick:()=>c(!0),className:"btn btn-primary",children:"Notes"})})})]}),e.jsx(p,{closerFunc:c,toggle:i,children:e.jsx(g,{})})]})}export{v as Route};
