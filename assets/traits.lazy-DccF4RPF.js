import{r as o,j as e,c as m,m as x,B as p}from"./index-BAR4Oq_z.js";import{s as g}from"./sendData-CfR9RIGy.js";const v=({description:r})=>{const{state:a}=JSON.parse(localStorage.getItem("character")??"{}"),[s,l]=o.useState(a.character.descriptions.featureTraits),[u,f]=o.useState(a.character.descriptions.racialTraits),[c,i]=o.useState(!1),h=async(t,n)=>{t.preventDefault(),await g("characters",a.character.id,{descriptions:{...a.character.descriptions,[r]:n}}),i(!1)},d=(t,n,b)=>{n(t.target.value),c===!1&&t.target.value!==b&&i(!0),c===!0&&t.target.value==b&&i(!1)};if(r==="racialTraits")return e.jsxs("form",{className:"relative h-full w-full",onSubmit:t=>h(t,u),children:[e.jsx("textarea",{className:"text-md h-full w-full resize-none overflow-y-auto rounded-lg bg-base-300 px-5",placeholder:"What's on your mind?",value:u,onChange:t=>d(t,f,a.character.descriptions.racialTraits)}),c&&e.jsx("button",{type:"submit",className:"btn btn-ghost absolute right-5 top-5 border-2 border-accent text-accent hover:border-accent hover:bg-accent hover:text-base-100",children:"Save"})]});if(r==="featureTraits")return e.jsxs("form",{className:"relative h-full w-full",onSubmit:t=>h(t,s),children:[e.jsx("textarea",{className:"text-md h-full w-full resize-none overflow-y-auto rounded-lg bg-base-300 px-5",placeholder:"What's on your mind?",value:s,onChange:t=>d(t,l,a.character.descriptions.featureTraits)}),c&&e.jsx("button",{type:"submit",className:"btn btn-ghost absolute right-5 top-5 border-2 border-accent text-accent hover:border-accent hover:bg-accent hover:text-base-100",children:"Save"})]})},y=m("/traits")({component:T});function T(){const[r,a]=o.useState("racialTraits"),s=l=>{a(l)};return e.jsx(x.main,{initial:{opacity:0},animate:{opacity:1},className:"h-full overflow-hidden",children:e.jsxs(p,{styles:"w-full h-full pb-5 flex-col text-start gap-2 pl-5",children:[e.jsxs("div",{className:"flex w-full gap-2 bg-base-300 pt-5",children:[e.jsx("button",{onClick:()=>s("racialTraits"),className:"btn btn-ghost",children:"Racial Traits"}),e.jsx("button",{onClick:()=>s("featureTraits"),className:"btn btn-ghost",children:"Features & Traits"})]}),e.jsx(v,{description:r})]})})}export{y as Route};
