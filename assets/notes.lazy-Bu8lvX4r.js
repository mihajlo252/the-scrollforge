import{r as c,j as a,m as u,c as h}from"./index-DS-h-quf.js";import{s as m}from"./sendData-OZgoton-.js";const f=()=>{const[r,n]=c.useState(""),[o,s]=c.useState(!1),{state:t}=JSON.parse(JSON.parse(JSON.stringify(localStorage.getItem("character")))),l=async e=>{e.preventDefault(),await m("characters",t.character.id,{notes:r}),t.character.notes=r,localStorage.setItem("character",JSON.stringify({state:t})),s(!1)},i=e=>{n(e.target.value),o===!1&&e.target.value!==t.character.notes&&s(!0),o===!0&&e.target.value==t.character.notes&&s(!1)};return c.useEffect(()=>{n(t.character.notes)},[t.character.notes]),a.jsxs(u.form,{className:"relative h-full w-full",onSubmit:e=>l(e),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[a.jsx("textarea",{className:"text-md h-full w-full resize-none overflow-y-auto rounded-lg border-2 border-slate-900 bg-base-300 p-5",placeholder:"What's on your mind?",value:r,onChange:e=>i(e)}),o&&a.jsx("button",{type:"submit",className:"btn btn-ghost absolute right-5 top-5 border-2 border-accent text-accent hover:border-accent hover:bg-accent hover:text-base-100",children:"Save"})]})},g=h("/notes")({component:p});function p(){return a.jsx(f,{})}export{g as Route};
