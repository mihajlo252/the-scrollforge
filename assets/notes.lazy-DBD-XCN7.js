import{r as c,j as a,c as h}from"./index-Dx-ELCA6.js";import{s as i}from"./sendData-DcEKgVgP.js";const f=()=>{const[r,n]=c.useState(""),[s,o]=c.useState(!1),{state:t}=JSON.parse(JSON.parse(JSON.stringify(localStorage.getItem("character")))),l=async e=>{e.preventDefault(),await i("characters",t.character.id,{notes:r}),t.character.notes=r,localStorage.setItem("character",JSON.stringify({state:t})),o(!1)},u=e=>{n(e.target.value),s===!1&&e.target.value!==t.character.notes&&o(!0),s===!0&&e.target.value==t.character.notes&&o(!1)};return c.useEffect(()=>{n(t.character.notes)},[t.character.notes]),a.jsxs("form",{className:"relative h-full w-full",onSubmit:e=>l(e),children:[a.jsx("textarea",{className:"text-md h-full w-full resize-none overflow-y-auto rounded-lg border-2 border-slate-900 bg-base-300 p-5",placeholder:"What's on your mind?",value:r,onChange:e=>u(e)}),s&&a.jsx("button",{type:"submit",className:"btn btn-ghost absolute right-5 top-5 border-2 border-accent text-accent hover:border-accent hover:bg-accent hover:text-base-100",children:"Save"})]})},g=h("/notes")({component:m});function m(){return a.jsx(f,{})}export{g as Route};
