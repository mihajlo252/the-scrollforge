import{s as x,c as h,r as o,g as f,j as e,m as b}from"./index-DvBhQARo.js";const g=async s=>{try{const{error:r}=await x.from("tickets").insert(s);if(r)throw r.message}catch(r){throw r}},v=h("/tickets")({component:y});function y(){const[s,r]=o.useState(""),[l,i]=o.useState(""),[c,p]=o.useState("Bug Report"),{user:d}=JSON.parse(f()),m=async t=>{t.preventDefault();const a={title:s,description:l,user_id:d.id,type:c};if(a.title===""||a.description==="")return;let n;try{await g(a)}catch(u){throw n=u,u}n||(r(""),i(""))};return e.jsx(b.div,{initial:{opacity:0},animate:{opacity:1},className:"h-full",children:e.jsxs("form",{className:"flex h-full w-full flex-col items-center justify-center gap-10 rounded-lg border-2 border-slate-900 bg-base-300 px-[25%] text-left text-neutral",onSubmit:t=>m(t),children:[e.jsx("h1",{className:"sticky top-0 w-full text-center text-3xl font-bold text-primary",children:"Select feature if you have a feature request or bug report if you've found one."}),e.jsx("div",{className:"flex w-full flex-col gap-2",children:e.jsxs("select",{className:"select select-bordered",value:c,onChange:t=>p(t.target.value),children:[e.jsx("option",{value:"Bug Report",children:"Bug Report"}),e.jsx("option",{value:"Feature",children:"Feature"})]})}),e.jsxs("div",{className:"flex w-full flex-col gap-5",children:[e.jsx("input",{type:"text",name:"short",id:"short",onChange:t=>r(t.target.value),value:s,placeholder:"Short Description",className:"input input-bordered"}),e.jsx("textarea",{name:"ticket",id:"ticket",onChange:t=>i(t.target.value),value:l,rows:3,cols:50,placeholder:"Describe your problem",className:"textarea textarea-bordered min-h-[1rem] resize-none"})]}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})}export{v as Route};
