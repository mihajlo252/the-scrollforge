import{c as u,r as d,j as a,B as c,m as g,t as x}from"./index-DHDBbdPF.js";import{s as m}from"./sendData-BzXHdtmH.js";const f="/dash-and-play/assets/pink.svg",b="/dash-and-play/assets/white.svg",w="/dash-and-play/assets/purple.svg",j="/dash-and-play/assets/yellow.svg",v="/dash-and-play/assets/red.svg",N="/dash-and-play/assets/regular.svg",D=u("/inspiration")({component:S});function S(){let{state:s}=JSON.parse(JSON.parse(JSON.stringify(localStorage.getItem("character"))));const i={red:"Auto natural 20!",pink:"+10 to AC and saving throw for two rounds.",white:"Dead? Not dead!",purple:"Get one straight answer from the DM.",yellow:"One Legendary action or Legendary resistance.",regular:"Exchange three of these for one of the colored ones."};let n=s.character.stats.inspiration;const[e,l]=d.useState(n),o=t=>{let r;if(t!=="regular"){if(e.regular<3)return;e.regular-=3,l({...e,regular:e.regular}),s.character.stats.inspiration={...n,regular:e.regular}}r=e[t]+1,l({...e,[t]:r}),s.character.stats.inspiration={...n,[t]:r}},h=t=>{if(e[t]<1)return;let r=e[t]-1;l({...e,[t]:r}),s.character.stats.inspiration={...n,[t]:r}},p=async t=>{t.preventDefault(),localStorage.setItem("character",JSON.stringify({state:{...s,character:{...s.character,stats:{...s.character.stats,inspiration:e}}}})),await m("characters",s.character.id,{stats:{...s.character.stats,inspiration:e}}),x({style:"bg-success text-base-100",message:"Saved!"})};return a.jsx(c,{styles:"w-full flex gap-5 p-5 relative",children:a.jsxs("form",{className:"flex h-full w-full flex-col justify-center",onSubmit:t=>p(t),children:[a.jsx(g.ul,{className:"flex w-full flex-col-reverse items-start gap-2",initial:{opacity:0},animate:{opacity:1},children:Object.entries(n).map(([t])=>a.jsxs("li",{className:"flex items-center gap-10",children:[a.jsx("img",{src:t==="regular"?N:t==="white"?b:t==="yellow"?j:t==="red"?v:t==="pink"?f:w,alt:`${t} inspiration gem`,className:"h-[4.5rem] w-[4.5rem]"}),a.jsxs(c,{styles:"items-center justify-center gap-5",children:[a.jsx("button",{type:"button",className:"btn btn-ghost text-3xl",onClick:()=>h(t),children:"-"}),a.jsx("p",{className:"flex w-[1ch] justify-center text-center text-3xl",children:e[t]}),a.jsx("button",{type:"button",className:"btn btn-ghost text-3xl",onClick:()=>o(t),children:"+"})]}),a.jsx("p",{children:i[t]})]},t))}),a.jsx("div",{className:"absolute right-5 top-5 flex items-center gap-2",children:a.jsx("button",{type:"submit",className:"btn btn-ghost border-2 border-accent text-accent hover:border-accent hover:bg-accent hover:text-base-100",children:"Save"})})]})})}export{D as Route};
