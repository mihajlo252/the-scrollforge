import{s as h,c as g,r as s,g as y,j as e,m as b}from"./index-DJhVSmZt.js";import{B as j}from"./BoxSection-KdPTyjtL.js";const S=async a=>{try{const{error:r}=await h.from("tickets").insert(a);if(r)throw r.message}catch(r){throw r}},k=g("/tickets")({component:v});function v(){const[a,r]=s.useState(""),[i,l]=s.useState(""),[c,m]=s.useState("Bug Report"),{user:f}=JSON.parse(y()),[n,d]=s.useState([]),x=async t=>{t.preventDefault();const o={title:a,description:i,user_id:f.id,type:c};if(o.title===""||o.description==="")return;let u;try{await S(o)}catch(p){throw u=p,p}u||(r(""),l(""))};return s.useEffect(()=>{d([window.innerWidth,window.innerHeight])},[]),e.jsx(b.div,{initial:{opacity:0},animate:{opacity:1},className:"h-full",children:e.jsxs(j,{styles:"w-full h-full p-5 justify-center items-center overflow-scroll",children:[e.jsxs("form",{className:"flex h-full w-1/2 flex-col items-center justify-center gap-5 text-left",onSubmit:t=>x(t),children:[e.jsx("h1",{className:"mb-5 text-center text-3xl font-bold text-primary",children:"Select feature if you have a feature request or bug report if you've found one."}),e.jsx("div",{className:"mb-20 flex w-full flex-col gap-2",children:e.jsxs("select",{className:"select select-bordered",value:c,onChange:t=>m(t.target.value),children:[e.jsx("option",{value:"Bug Report",children:"Bug Report"}),e.jsx("option",{value:"Feature",children:"Feature"})]})}),e.jsx("div",{className:"flex w-full flex-col gap-2",children:e.jsx("input",{type:"text",name:"short",id:"short",onChange:t=>r(t.target.value),value:a,placeholder:"Short Description",className:"input input-bordered"})}),e.jsx("div",{className:"flex w-full flex-col gap-2",children:e.jsx("textarea",{name:"ticket",id:"ticket",onChange:t=>l(t.target.value),value:i,placeholder:"Describe your problem",className:"textarea textarea-bordered"})}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]}),"/*Temporary feature*/",e.jsxs("p",{className:"absolute right-0 top-0",children:["Screen Size: ",n[0]," x ",n[1]," "]}),"/*Temporary feature*/"]})})}export{k as Route};
