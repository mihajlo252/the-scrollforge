import{R as b,r as u,j as e,c as N,a as w,m as C}from"./index-DRtLz98_.js";import{B as x}from"./BoxSection-iMikpEhs.js";const j=({traits:s,setTraits:n,isSave:c,setIsSave:l,description:p})=>{const[a,r]=b.useState(""),[o,d]=b.useState(!1),i=()=>{n([...s,a]),r(""),l(!0)},g=()=>{localStorage.setItem("newCharacter",JSON.stringify({state:{character:{...JSON.parse(localStorage.getItem("newCharacter")||"{}").state.character,descriptions:{...JSON.parse(localStorage.getItem("newCharacter")||"{}").state.character.descriptions,[p]:s}}}})),l(!1)};return u.useEffect(()=>{c&&g()},[c]),e.jsxs("div",{className:"relative flex h-full w-full flex-col gap-2",children:[e.jsx("button",{type:"button",className:"btn btn-accent sticky top-5 z-20 self-end",onClick:()=>d(!o),children:o?"Close":"Add New"}),s.map((h,t)=>e.jsx("p",{children:h},t)),e.jsx("div",{className:`flex w-full justify-center bg-opacity-20 items-center gap-5 absolute inset-0 ${o?"block":"hidden"}`,children:e.jsxs(x,{styles:"h-[unset] w-full w-max px-20 bg-opacity-90 py-10 justify-center flex-col gap-5 items-center text-start",children:[e.jsx("textarea",{className:"textarea textarea-bordered max-w-lg resize-none",placeholder:"Trait",name:"trait",cols:100,rows:10,value:a,onChange:h=>r(h.target.value)}),e.jsx("button",{type:"button",className:"btn btn-primary w-full",onClick:i,children:"Add"})]})})]})},S=({attacks:s,setAttacks:n,isSave:c,setIsSave:l,description:p})=>{const[a,r]=u.useState(),[o,d]=u.useState(!1),i=(t,f)=>{t.preventDefault(),f(m=>({...m,[t.target.name]:t.target.value}))},g=()=>{localStorage.setItem("newCharacter",JSON.stringify({state:{character:{...JSON.parse(localStorage.getItem("newCharacter")||"{}").state.character,descriptions:{...JSON.parse(localStorage.getItem("newCharacter")||"{}").state.character.descriptions,[p]:s}}}})),l(!1)},h=t=>{t.preventDefault(),a&&(n([...s,a]),r({name:"",type:"",range:"",attack:"",damage:"",description:""})),l(!0)};return u.useEffect(()=>{c&&g()},[c]),e.jsxs("div",{className:"relative flex h-full w-full flex-col gap-5",children:[e.jsx("button",{type:"button",className:"btn btn-accent sticky top-5 z-20 self-end",onClick:()=>d(!o),children:o?"Close":"Add New"}),s.map((t,f)=>e.jsxs(x,{styles:"grid w-full grid-cols-[1fr_3fr] h-min gap-5 text-[18px] px-10 py-5 border-accent",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("p",{className:"grid text-sm",children:[e.jsx("span",{className:"text-3xl underline",children:t.name}),t.type]}),e.jsxs("p",{children:["Range: ",t.range]}),e.jsxs("p",{children:["Attack: ",t.attack]}),e.jsxs("p",{children:["Damage: ",t.damage]})]}),e.jsx("p",{children:t.description.split(`
`).map((m,y)=>e.jsx("span",{className:"block indent-5",children:m},y))})]},f)),e.jsx("div",{className:`flex flex-col justify-center items-center absolute inset-0 ${o?"block":"hidden"}`,children:e.jsxs(x,{styles:"h-[unset] px-20 bg-opacity-90 py-10 justify-center flex-col gap-5 items-start text-start",children:[e.jsx("input",{type:"text",name:"name",placeholder:"Attack Name",className:"input w-full focus-within:outline-0",value:(a==null?void 0:a.name)||"",onChange:t=>i(t,r)}),e.jsx("input",{type:"text",name:"type",placeholder:"Type",className:"input w-full focus-within:outline-0",value:(a==null?void 0:a.type)||"",onChange:t=>i(t,r)}),e.jsx("input",{type:"text",name:"range",placeholder:"Range",className:"input w-full focus-within:outline-0",value:(a==null?void 0:a.range)||"",onChange:t=>i(t,r)}),e.jsx("input",{type:"text",name:"attack",placeholder:"Attack",className:"input w-full focus-within:outline-0",value:(a==null?void 0:a.attack)||"",onChange:t=>i(t,r)}),e.jsx("input",{type:"text",name:"damage",placeholder:"Damage",className:"input w-full focus-within:outline-0",value:(a==null?void 0:a.damage)||"",onChange:t=>i(t,r)}),e.jsx("textarea",{name:"description",placeholder:"Description",className:"textarea resize-none focus-within:outline-0",rows:4,cols:50,value:(a==null?void 0:a.description)||"",onChange:t=>i(t,r)}),e.jsx("button",{type:"button",className:"btn btn-primary w-full",onClick:t=>h(t),children:"Add"})]})})]})},T=({description:s})=>{const{state:n}=JSON.parse(localStorage.getItem("newCharacter")||"{}"),[c,l]=u.useState(!1),[p,a]=u.useState(n==null?void 0:n.character.descriptions.racialTraits),[r,o]=u.useState(n==null?void 0:n.character.descriptions.featureTraits),[d,i]=u.useState(n==null?void 0:n.character.descriptions.attacks);if(s==="racialTraits")return e.jsx(j,{traits:p,setTraits:a,isSave:c,setIsSave:l,description:s});if(s==="featureTraits")return e.jsx(j,{traits:r,setTraits:o,isSave:c,setIsSave:l,description:s});if(s==="attacks")return e.jsx(S,{attacks:d,setAttacks:i,isSave:c,setIsSave:l,description:s});if(s==="spells")return e.jsx("h1",{children:"Spells"})},R=N("/create-character/page2")({component:v});function v(){const[s,n]=u.useState("racialTraits"),c=w(),l=p=>{n(p)};return e.jsxs(C.div,{className:"flex h-full w-full gap-2",initial:{opacity:0},animate:{opacity:1},children:[e.jsx("button",{type:"submit",className:"align-self-end btn btn-ghost w-[2%] self-center rounded-lg border-2 border-slate-900 bg-base-300 text-neutral",onClick:()=>c({to:"/create-character/page1"}),children:"<"}),e.jsxs(x,{styles:"w-full h-full p-5 flex-col text-start gap-2 overflow-y-scroll pt-0",children:[e.jsxs("div",{className:"sticky -top-5 z-10 flex w-full gap-2 bg-base-300 pt-5",children:[e.jsx("button",{type:"button",onClick:()=>l("racialTraits"),className:"btn btn-ghost",children:"Racial Traits"}),e.jsx("button",{type:"button",onClick:()=>l("featureTraits"),className:"btn btn-ghost",children:"Features & Traits"}),e.jsx("button",{type:"button",onClick:()=>l("attacks"),className:"btn btn-ghost",children:"Attacks"}),e.jsx("button",{type:"button",onClick:()=>l("spells"),className:"btn btn-ghost",children:"Spells"})]}),e.jsx(T,{description:s})]}),e.jsx("button",{type:"submit",className:"align-self-end btn btn-ghost w-[2%] self-center rounded-lg border-2 border-slate-900 bg-base-300 text-neutral",children:">"})]})}export{R as Route};
