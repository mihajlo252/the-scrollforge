import{c as g,r as p,j as s,B as c,m as f,t as x}from"./index-Dcl8iJ02.js";import{s as m}from"./sendData-BBSbCs8M.js";const d="/the-scrollforge/assets/pink.svg",b="/the-scrollforge/assets/white.svg",w="/the-scrollforge/assets/purple.svg",j="/the-scrollforge/assets/yellow.svg",v="/the-scrollforge/assets/red.svg",N="/the-scrollforge/assets/regular.svg",D=g("/inspiration")({component:S});function S(){let{state:r}=JSON.parse(JSON.parse(JSON.stringify(localStorage.getItem("character"))));const o={red:"Auto natural 20!",pink:"+10 to AC and saving throw for two rounds.",white:"Dead? Not dead!",purple:"Get one straight answer from the DM.",yellow:"One Legendary action or Legendary resistance.",regular:"Exchange three of these for one of the colored ones."};let n=r.character.stats.inspiration;const[t,l]=p.useState(n),i=e=>{let a;if(e!=="regular"){if(t.regular<3)return;t.regular-=3,l({...t,regular:t.regular}),r.character.stats.inspiration={...n,regular:t.regular}}a=t[e]+1,l({...t,[e]:a}),r.character.stats.inspiration={...n,[e]:a}},h=e=>{if(t[e]<1)return;let a=t[e]-1;l({...t,[e]:a}),r.character.stats.inspiration={...n,[e]:a}},u=async e=>{e.preventDefault(),localStorage.setItem("character",JSON.stringify({state:{...r,character:{...r.character,stats:{...r.character.stats,inspiration:t}}}})),await m("characters",r.character.id,{stats:{...r.character.stats,inspiration:t}}),x({style:"bg-success text-base-100",message:"Saved!"})};return s.jsx(c,{styles:"w-full flex gap-5 p-5 relative",children:s.jsxs("form",{className:"flex h-full w-full flex-col justify-center",onSubmit:e=>u(e),children:[s.jsx(f.ul,{className:"flex w-full flex-col-reverse items-start gap-2",initial:{opacity:0},animate:{opacity:1},children:Object.entries(n).map(([e])=>s.jsxs("li",{className:"flex items-center gap-10",children:[s.jsx("img",{src:e==="regular"?N:e==="white"?b:e==="yellow"?j:e==="red"?v:e==="pink"?d:w,alt:`${e} inspiration gem`,className:"h-[4.5rem] w-[4.5rem]"}),s.jsxs(c,{styles:"items-center justify-center gap-5",children:[s.jsx("button",{type:"button",className:"btn btn-ghost text-3xl",onClick:()=>h(e),children:"-"}),s.jsx("p",{className:"flex w-[1ch] justify-center text-center text-3xl",children:t[e]}),s.jsx("button",{type:"button",className:"btn btn-ghost text-3xl",onClick:()=>i(e),children:"+"})]}),s.jsx("p",{children:o[e]})]},e))}),s.jsx("div",{className:"absolute right-5 top-5 flex items-center gap-2",children:s.jsx("button",{type:"submit",className:"btn btn-ghost border-2 border-accent text-accent hover:border-accent hover:bg-accent hover:text-base-100",children:"Save"})})]})})}export{D as Route};
