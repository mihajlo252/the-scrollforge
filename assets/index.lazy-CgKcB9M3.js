import{c as p,r as a,j as e,m as i,L as d}from"./index-BfvsNon0.js";import{a as h,u as j,B as c}from"./BoxSection-DsRueBJq.js";const w=p("/")({component:y});function y(){const{getUser:o,setUser:m}=h(),{setCharacter:f}=j(),[l,u]=a.useState(""),[r,x]=a.useState("");let t=localStorage.getItem("sb-iyfoqgbhaxcedpmuvfkr-auth-token")||null;a.useEffect(()=>{t&&m(t)},[]),a.useEffect(()=>{t&&f(JSON.parse(t).user.id)},[t]);const n=async s=>{s.preventDefault(),await o(l,r)};return t?e.jsx(i.main,{initial:{opacity:0},animate:{opacity:1},className:"flex h-full flex-col items-center justify-center overflow-hidden",children:e.jsxs(c,{styles:"w-full p-5 flex-col text-start gap-2 overflow-y-scroll pt-0 justify-center items-center gap-20",children:[e.jsxs("h1",{className:"text-5xl",children:["Welcome ",JSON.parse(t).user.email]}),e.jsx(d,{to:"/character-profile",className:"btn btn-primary text-2xl",children:"Enter"})]})}):e.jsx(i.main,{initial:{opacity:0},animate:{opacity:1},className:"h-full overflow-hidden",children:e.jsx(c,{styles:"w-full p-5 flex-col text-start overflow-y-scroll pt-0 justify-center items-center",children:e.jsxs("form",{onSubmit:s=>n(s),className:"flex w-full flex-col items-center justify-center gap-5 overflow-y-scroll p-5 pt-0 text-start",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"email",children:"Email:"}),e.jsx("input",{type:"email",placeholder:"Email",id:"email",value:l,onChange:s=>u(s.target.value),className:"text-neutral-content"})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"pass",children:"Password:"}),e.jsx("input",{type:"password",placeholder:"*********",id:"pass",value:r,onChange:s=>x(s.target.value),className:"text-neutral-content"})]}),e.jsx("button",{onClick:n,className:"btn btn-primary",children:"Login"})]})})})}export{w as Route};
