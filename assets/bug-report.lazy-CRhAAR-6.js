import{s as p,c as h,r as c,g as x,j as e,m as d}from"./index-I2HdPPE-.js";import{B as f}from"./BoxSection-DNtA9_s5.js";const b=async s=>{try{const{error:t}=await p.from("bug_tickets").insert(s);if(t)throw t.message}catch(t){throw t}},S=h("/bug-report")({component:g});function g(){const[s,t]=c.useState(""),[o,l]=c.useState(""),{user:u}=JSON.parse(x()),m=async r=>{r.preventDefault();const a={title:s,description:o,user_id:u.id};if(a.title===""||a.description==="")return;let i;try{await b(a)}catch(n){throw i=n,n}i||(t(""),l(""))};return e.jsx(d.div,{initial:{opacity:0},animate:{opacity:1},className:"h-full",children:e.jsx(f,{styles:"w-full h-full p-5 justify-center items-center",children:e.jsxs("form",{className:"flex h-full w-1/2 flex-col items-center justify-center gap-5 text-left",onSubmit:r=>m(r),children:[e.jsxs("div",{className:"flex w-full flex-col gap-2",children:[e.jsx("label",{htmlFor:"short",children:"Short Description:"}),e.jsx("input",{type:"text",name:"short",id:"short",onChange:r=>t(r.target.value),value:s,placeholder:"Short Description",className:"input input-bordered"})]}),e.jsxs("div",{className:"flex w-full flex-col gap-2",children:[e.jsx("label",{htmlFor:"bug",children:"Full Description:"}),e.jsx("textarea",{name:"bug",id:"bug",onChange:r=>l(r.target.value),value:o,placeholder:"Describe your problem",className:"textarea textarea-bordered"})]}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})})}export{S as Route};
