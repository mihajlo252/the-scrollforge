import{c as x,r as c,j as a,m as f,B as s,L as t}from"./index-DUUPaPuZ.js";import{L as m,C as p,S as d,H as j,D as u,B as b}from"./DiceBox-Dt09MfEx.js";import{s as y}from"./sendData-BZa1YKtV.js";const w=x("/character/daggerheart")({component:g});function g(){const{state:e}=JSON.parse(localStorage.getItem("character")??"{}"),[l,r]=c.useState(!1),[i,n]=c.useState(!1);if(!e.character)return a.jsx(m,{});const o=async h=>{await y("characters",e.character.id,{stats:{...h},characterProfile:{...e.character.characterProfile}}),n(!1)};return c.useEffect(()=>{r(!1),l&&n(!0)},[l]),a.jsxs(f.main,{className:"grid h-full w-full grid-rows-[.2fr_1fr] gap-5",initial:{opacity:0},animate:{opacity:1},children:[i&&a.jsx("button",{className:"btn btn-ghost absolute top-5 m-0 h-min min-h-0 place-self-center border-2 border-accent px-4 py-2 text-accent hover:border-accent hover:bg-accent hover:text-base-100 active:-translate-x-1/2",onClick:()=>o(e.character.stats),children:"Save Character"}),a.jsx(p,{setStatChange:r}),a.jsxs("section",{className:"flex gap-5",children:[a.jsx(s,{styles:"w-[50%] flex flex-col gap-5 p-5",children:a.jsx(d,{character:e.character,setStatChange:r})}),a.jsxs("div",{className:"flex h-full w-[40%] flex-col gap-5",children:[a.jsxs("div",{className:"flex h-full w-full gap-5",children:[a.jsx(s,{styles:"w-[50%] flex justify-around items-center p-2",children:a.jsx(j,{maxHP:e.character.stats.maxHP,characterID:e.character.id})}),a.jsx(s,{styles:"w-[50%] flex justify-around items-center p-5",children:a.jsx(u,{})})]}),a.jsx(s,{styles:"w-full flex justify-around items-center p-5",children:a.jsx(b,{character:e.character,setStatChange:r})})]}),a.jsx(s,{styles:"w-[10%] flex flex-col justify-start",children:a.jsxs("nav",{className:"flex flex-col gap-3 p-3",children:[a.jsx(t,{to:"/traits",className:"btn btn-primary",children:"Traits"}),a.jsx(t,{to:"/attacks",className:"btn btn-primary",children:"Attacks"}),a.jsx(t,{to:"/spells",className:"btn btn-primary",children:"Spells"}),a.jsx(t,{to:"/inspiration",className:"btn btn-primary",children:"Inspiration"}),a.jsx(t,{to:"/notes",className:"btn btn-primary",children:"Notes"}),a.jsx(t,{to:"/chat",className:"btn btn-primary",children:"Chat"})]})})]})]})}export{w as Route};
