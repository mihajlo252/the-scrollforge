import{s as f,c as d,r as l,g as h,j as e,m as g}from"./index-DBHzNLbb.js";import{B as b}from"./BoxSection--J4AToI-.js";const y=async s=>{try{const{error:r}=await f.from("tickets").insert(s);if(r)throw r.message}catch(r){throw r}},N=d("/tickets")({component:j});function j(){const[s,r]=l.useState(""),[o,c]=l.useState(""),[i,p]=l.useState("Bug Report"),{user:m}=JSON.parse(h()),x=async t=>{t.preventDefault();const a={title:s,description:o,user_id:m.id,type:i};if(a.title===""||a.description==="")return;let n;try{await y(a)}catch(u){throw n=u,u}n||(r(""),c(""))};return e.jsx(g.div,{initial:{opacity:0},animate:{opacity:1},className:"h-full",children:e.jsx(b,{styles:"w-full h-full p-5 justify-center items-center overflow-scroll",children:e.jsxs("form",{className:"flex h-full w-1/2 flex-col items-center justify-center gap-5 text-left",onSubmit:t=>x(t),children:[e.jsx("h1",{className:"mb-5 text-center text-3xl font-bold text-primary",children:"Select feature if you have a feature request or bug report if you've found one."}),e.jsx("div",{className:"mb-20 flex w-full flex-col gap-2",children:e.jsxs("select",{className:"select select-bordered",value:i,onChange:t=>p(t.target.value),children:[e.jsx("option",{value:"Bug Report",children:"Bug Report"}),e.jsx("option",{value:"Feature",children:"Feature"})]})}),e.jsx("div",{className:"flex w-full flex-col gap-2",children:e.jsx("input",{type:"text",name:"short",id:"short",onChange:t=>r(t.target.value),value:s,placeholder:"Short Description",className:"input input-bordered"})}),e.jsx("div",{className:"flex w-full flex-col gap-2",children:e.jsx("textarea",{name:"ticket",id:"ticket",onChange:t=>c(t.target.value),value:o,placeholder:"Describe your problem",className:"textarea textarea-bordered"})}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})})}export{N as Route};
