import{s as m,c as f,r as o,g as h,j as e,m as g}from"./index-Dgseddfj.js";const b=async a=>{try{const{error:r}=await m.from("tickets").insert(a);if(r)throw r.message}catch(r){throw r}},v=f("/tickets")({component:y});function y(){const[a,r]=o.useState(""),[c,i]=o.useState(""),[n,p]=o.useState("Bug Report"),{user:d}=JSON.parse(h()),x=async t=>{t.preventDefault();const s={appSection:a,description:c,user_id:d.id,type:n};if(s.appSection===""||s.description==="")return;let l;try{await b(s)}catch(u){throw l=u,u}l||(r(""),i(""))};return e.jsx(g.div,{initial:{opacity:0},animate:{opacity:1},className:"h-full",children:e.jsxs("form",{className:"flex h-full w-full flex-col items-center justify-center gap-10 rounded-lg border-2 border-slate-900 bg-base-300 px-[25%] text-left text-neutral",onSubmit:t=>x(t),children:[e.jsx("h1",{className:"sticky top-0 w-full text-center text-3xl font-bold text-primary",children:"Select feature if you have a feature request or bug report if you've found one."}),e.jsx("div",{className:"flex w-full flex-col gap-2",children:e.jsxs("select",{className:"select select-bordered",value:n,onChange:t=>p(t.target.value),children:[e.jsx("option",{value:"Bug Report",children:"Bug Report"}),e.jsx("option",{value:"Feature",children:"Feature"})]})}),e.jsxs("div",{className:"flex w-full flex-col gap-5",children:[e.jsx("input",{type:"text",name:"appSection",id:"appSection",onChange:t=>r(t.target.value),value:a,placeholder:"App Section",className:"input input-bordered"}),e.jsx("textarea",{name:"ticket",id:"ticket",onChange:t=>i(t.target.value),value:c,rows:3,cols:50,placeholder:"Ticket Description",className:"textarea textarea-bordered min-h-[1rem] resize-none"})]}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})}export{v as Route};
