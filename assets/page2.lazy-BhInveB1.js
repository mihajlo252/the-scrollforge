import{R as j,r as p,j as e,c as b,a as w,m as N}from"./index-BDJsQmhO.js";import{B as f}from"./BoxSection-DPn-9XxJ.js";const y=({traits:s,setTraits:c,isSave:i,setIsSave:r,description:d})=>{const[a,n]=j.useState(""),[o,h]=j.useState(!1),l=()=>{c([...s,a]),n(""),r(!0)},x=()=>{localStorage.setItem("newCharacter",JSON.stringify({state:{character:{...JSON.parse(localStorage.getItem("newCharacter")||"{}").state.character,descriptions:{...JSON.parse(localStorage.getItem("newCharacter")||"{}").state.character.descriptions,[d]:s}}}})),r(!1)};return p.useEffect(()=>{i&&x()},[i]),e.jsxs("div",{className:"relative flex h-full w-full flex-col gap-8",children:[e.jsx("button",{type:"button",className:"btn btn-accent sticky top-5 z-20 self-end",onClick:()=>h(!o),children:o?"Close":"Add New"}),s.map((u,t)=>e.jsx("pre",{children:e.jsx("p",{className:"w-full text-wrap break-words",children:u})},t)),e.jsx("div",{className:`flex flex-col justify-center items-center fixed top-1/2 -translate-y-1/2 py-10 z-50 left-1/2 -translate-x-1/2 ${o?"block":"hidden"}`,children:e.jsxs(f,{styles:"h-[unset] w-max px-20 bg-opacity-90 py-10 justify-center flex-col gap-5 items-center text-start",children:[e.jsx("textarea",{className:"textarea textarea-bordered max-w-lg resize-none",placeholder:"Trait",name:"trait",cols:100,rows:10,value:a,onChange:u=>n(u.target.value)}),e.jsx("button",{type:"button",className:"btn btn-accent w-full",onClick:l,children:"Add"})]})})]})},C=({attacks:s,setAttacks:c,isSave:i,setIsSave:r,description:d})=>{const[a,n]=p.useState(),[o,h]=p.useState(!1),l=(t,m)=>{t.preventDefault(),m(g=>({...g,[t.target.name]:t.target.value}))},x=()=>{localStorage.setItem("newCharacter",JSON.stringify({state:{character:{...JSON.parse(localStorage.getItem("newCharacter")||"{}").state.character,descriptions:{...JSON.parse(localStorage.getItem("newCharacter")||"{}").state.character.descriptions,[d]:s}}}})),r(!1)},u=t=>{t.preventDefault(),a&&(c([...s,a]),n({name:"",type:"",range:"",attack:"",damage:"",description:""})),r(!0)};return p.useEffect(()=>{i&&x()},[i]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"relative flex h-full w-full flex-col gap-5",children:[e.jsx("button",{type:"button",className:"btn btn-accent sticky top-5 z-20 self-end",onClick:()=>h(!o),children:o?"Close":"Add New"}),s.map((t,m)=>e.jsxs(f,{styles:"grid w-full grid-cols-[1fr_3fr] h-min gap-5 px-10 py-5 border-accent",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("p",{className:"grid text-sm",children:[e.jsx("span",{className:"text-3xl underline",children:t.name}),t.type]}),e.jsxs("p",{children:["Range: ",t.range]}),e.jsxs("p",{children:["Attack: ",t.attack]}),e.jsxs("p",{children:["Damage: ",t.damage]})]}),e.jsx("pre",{children:e.jsx("p",{className:"text-wrap break-words",children:t.description})})]},m)),e.jsx("div",{className:`flex h-full flex-col justify-center items-center fixed top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 z-50 py-10 ${o?"block":"hidden"}`,children:e.jsxs(f,{styles:"px-20 bg-opacity-90 py-10 justify-center flex-col gap-5 items-start text-start",children:[e.jsx("input",{type:"text",name:"name",placeholder:"Attack Name",className:"input w-full focus-within:outline-0",value:(a==null?void 0:a.name)||"",onChange:t=>l(t,n)}),e.jsx("input",{type:"text",name:"type",placeholder:"Type",className:"input w-full focus-within:outline-0",value:(a==null?void 0:a.type)||"",onChange:t=>l(t,n)}),e.jsx("input",{type:"text",name:"range",placeholder:"Range",className:"input w-full focus-within:outline-0",value:(a==null?void 0:a.range)||"",onChange:t=>l(t,n)}),e.jsx("input",{type:"text",name:"attack",placeholder:"Attack",className:"input w-full focus-within:outline-0",value:(a==null?void 0:a.attack)||"",onChange:t=>l(t,n)}),e.jsx("input",{type:"text",name:"damage",placeholder:"Damage",className:"input w-full focus-within:outline-0",value:(a==null?void 0:a.damage)||"",onChange:t=>l(t,n)}),e.jsx("textarea",{name:"description",placeholder:"Description",className:"textarea resize-none focus-within:outline-0",rows:4,cols:50,value:(a==null?void 0:a.description)||"",onChange:t=>l(t,n)}),e.jsx("button",{type:"button",className:"btn btn-accent w-full",onClick:t=>u(t),children:"Add"})]})})]})})},S=({spells:s,setSpells:c,isSave:i,setIsSave:r,description:d})=>{const[a,n]=p.useState(),[o,h]=p.useState(!1),l=(t,m)=>{t.preventDefault(),m(g=>({...g,[t.target.name]:t.target.value}))},x=()=>{localStorage.setItem("newCharacter",JSON.stringify({state:{character:{...JSON.parse(localStorage.getItem("newCharacter")||"{}").state.character,descriptions:{...JSON.parse(localStorage.getItem("newCharacter")||"{}").state.character.descriptions,[d]:s}}}})),r(!1)},u=t=>{t.preventDefault(),a&&(c([...s,a]),n({name:"",type:"",castingTime:"",range:"",duration:"",components:"",description:""})),r(!0)};return p.useEffect(()=>{i&&x()},[i]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"relative flex h-full w-full flex-col gap-5",children:[e.jsx("button",{type:"button",className:"btn btn-accent sticky top-5 z-20 self-end",onClick:()=>h(!o),children:o?"Close":"Add New"}),s.map((t,m)=>e.jsxs(f,{styles:"grid w-full grid-cols-[1fr_3fr] h-min gap-5 px-10 py-5 border-accent",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("p",{className:"grid text-sm",children:[e.jsx("span",{className:"text-3xl underline",children:t.name}),t.type]}),e.jsxs("p",{children:["Casting Time: ",t.castingTime]}),e.jsxs("p",{children:["Range: ",t.range]}),e.jsxs("p",{children:["Duration: ",t.duration]}),e.jsxs("p",{children:["Components: ",t.components]})]}),e.jsx("pre",{children:e.jsx("p",{className:"text-wrap break-words",children:t.description})})]},m)),e.jsx("div",{className:`flex h-full flex-col justify-center items-center fixed top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 z-50 py-10 ${o?"block":"hidden"}`,children:e.jsxs(f,{styles:"px-20 bg-opacity-90 py-10 justify-center flex-col gap-5 items-start text-start",children:[e.jsx("input",{type:"text",name:"name",placeholder:"Spell Name",className:"input w-full focus-within:outline-0",value:(a==null?void 0:a.name)||"",onChange:t=>l(t,n)}),e.jsx("input",{type:"text",name:"type",placeholder:"Type",className:"input w-full focus-within:outline-0",value:(a==null?void 0:a.type)||"",onChange:t=>l(t,n)}),e.jsx("input",{type:"text",name:"castingTime",placeholder:"Casting Time",className:"input w-full focus-within:outline-0",value:(a==null?void 0:a.castingTime)||"",onChange:t=>l(t,n)}),e.jsx("input",{type:"text",name:"range",placeholder:"Range",className:"input w-full focus-within:outline-0",value:(a==null?void 0:a.range)||"",onChange:t=>l(t,n)}),e.jsx("input",{type:"text",name:"duration",placeholder:"Duration",className:"input w-full focus-within:outline-0",value:(a==null?void 0:a.duration)||"",onChange:t=>l(t,n)}),e.jsx("input",{type:"text",name:"components",placeholder:"Components",className:"input w-full focus-within:outline-0",value:(a==null?void 0:a.components)||"",onChange:t=>l(t,n)}),e.jsx("textarea",{name:"description",placeholder:"Description",className:"textarea resize-none focus-within:outline-0",rows:4,cols:50,value:(a==null?void 0:a.description)||"",onChange:t=>l(t,n)}),e.jsx("button",{type:"button",className:"btn btn-accent w-full",onClick:t=>u(t),children:"Add"})]})})]})})},v=({description:s})=>{const{state:c}=JSON.parse(localStorage.getItem("newCharacter")||"{}"),[i,r]=p.useState(!1),[d,a]=p.useState(c==null?void 0:c.character.descriptions.racialTraits),[n,o]=p.useState(c==null?void 0:c.character.descriptions.featureTraits),[h,l]=p.useState(c==null?void 0:c.character.descriptions.attacks),[x,u]=p.useState([]);if(s==="racialTraits")return e.jsx(y,{traits:d,setTraits:a,isSave:i,setIsSave:r,description:s});if(s==="featureTraits")return e.jsx(y,{traits:n,setTraits:o,isSave:i,setIsSave:r,description:s});if(s==="attacks")return e.jsx(C,{attacks:h,setAttacks:l,isSave:i,setIsSave:r,description:s});if(s==="spells")return e.jsx(S,{spells:x,setSpells:u,isSave:i,setIsSave:r,description:s})},D=b("/create-character/page2")({component:T});function T(){const[s,c]=p.useState("racialTraits"),i=w(),r=d=>{c(d)};return e.jsxs(N.div,{className:"flex h-full w-full gap-2 overflow-hidden",initial:{opacity:0},animate:{opacity:1},children:[e.jsx("button",{type:"submit",className:"align-self-end btn btn-ghost w-[2%] self-center rounded-lg border-2 border-slate-900 bg-base-300 text-neutral",onClick:()=>i({to:"/create-character/page1"}),children:"<"}),e.jsxs(f,{styles:"w-full px-5 flex-col text-start gap-2 overflow-y-scroll pt-0",children:[e.jsxs("div",{className:"sticky -top-5 z-10 flex w-full gap-2 bg-base-300 pt-5",children:[e.jsx("button",{type:"button",onClick:()=>r("racialTraits"),className:`btn ${s==="racialTraits"?"btn-primary":""}`,children:"Racial Traits"}),e.jsx("button",{type:"button",onClick:()=>r("featureTraits"),className:`btn ${s==="featureTraits"?"btn-primary":""}`,children:"Features & Traits"}),e.jsx("button",{type:"button",onClick:()=>r("attacks"),className:`btn ${s==="attacks"?"btn-primary":""}`,children:"Attacks"}),e.jsx("button",{type:"button",onClick:()=>r("spells"),className:`btn ${s==="spells"?"btn-primary":""}`,children:"Spells"})]}),e.jsx(v,{description:s})]}),e.jsx("button",{type:"submit",className:"align-self-end btn btn-ghost w-[2%] self-center rounded-lg border-2 border-slate-900 bg-base-300 text-neutral",children:">"})]})}export{D as Route};
