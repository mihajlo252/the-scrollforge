import{c as p,j as s,r as h,m}from"./index-CPVaLM7z.js";import{s as x}from"./sendData-CMTD9res.js";import{B as u}from"./BoxSection-Ck7HlFn0.js";const g=p("/inspiration")({component:()=>s.jsx(f,{})});function f(){let{state:a}=JSON.parse(JSON.parse(JSON.stringify(localStorage.getItem("character")))),i=a.character.stats.inspiration;const[e,n]=h.useState(i),c=(t,r)=>{r+=1,n({...e,[t]:r}),a.character.stats.inspiration={...i,[t]:r}},o=(t,r)=>{r-=1,n({...e,[t]:r}),a.character.stats.inspiration={...i,[t]:r}},l=async t=>{t.preventDefault(),localStorage.setItem("character",JSON.stringify({state:{...a,character:{...a.character,stats:{...a.character.stats,inspiration:e}}}})),await x("characters",a.character.id,{stats:{...a.character.stats,inspiration:e}})};return s.jsx(u,{styles:"w-full flex flex-col gap-5 p-5 relative",children:s.jsxs("form",{className:"flex h-full flex-col items-center justify-center",onSubmit:t=>l(t),children:[s.jsx(m.ul,{className:"flex h-full w-full items-center justify-around",initial:{opacity:0},animate:{opacity:1},children:Object.entries(i).map(([t])=>s.jsxs("li",{className:"flex flex-col gap-2",children:[s.jsx("div",{className:"",children:s.jsx("img",{src:`assets/gems/${t}.svg`,alt:`${t} inspiration gem`,width:150,height:150})}),s.jsx("p",{children:e[t]}),s.jsxs("div",{children:[s.jsx("button",{type:"button",className:"btn btn-ghost",onClick:()=>c(t,e[t]),children:"+"}),s.jsx("button",{type:"button",className:"btn btn-ghost",onClick:()=>o(t,e[t]),children:"-"})]})]},t))}),s.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})})}export{g as Route};
