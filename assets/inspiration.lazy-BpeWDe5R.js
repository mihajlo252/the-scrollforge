import{c as u,j as e,r as h,m}from"./index-DoWPWs3V.js";import{s as x}from"./sendData-BmqXo4-_.js";import{B as l}from"./BoxSection-ZQtUXmIv.js";const j=u("/inspiration")({component:()=>e.jsx(g,{})});function g(){let{state:r}=JSON.parse(JSON.parse(JSON.stringify(localStorage.getItem("character")))),i=r.character.stats.inspiration;const[a,n]=h.useState(i),c=t=>{let s;if(t!=="regular"){if(a.regular<3)return;a.regular-=3,n({...a,regular:a.regular}),r.character.stats.inspiration={...i,regular:a.regular}}s=a[t]+1,n({...a,[t]:s}),r.character.stats.inspiration={...i,[t]:s}},o=t=>{if(a[t]<1)return;let s=a[t]-1;n({...a,[t]:s}),r.character.stats.inspiration={...i,[t]:s}},p=async t=>{t.preventDefault(),localStorage.setItem("character",JSON.stringify({state:{...r,character:{...r.character,stats:{...r.character.stats,inspiration:a}}}})),await x("characters",r.character.id,{stats:{...r.character.stats,inspiration:a}})};return e.jsx(l,{styles:"w-full flex gap-5 p-5 relative",children:e.jsxs("form",{className:"flex h-full w-full flex-col",onSubmit:t=>p(t),children:[e.jsx("button",{type:"submit",className:"btn btn-primary absolute right-5 top-5",children:"Save"}),e.jsx(m.ul,{className:"flex h-full w-full flex-col-reverse items-start gap-2",initial:{opacity:0},animate:{opacity:1},children:Object.entries(i).map(([t])=>e.jsxs("li",{className:"flex items-center gap-10",children:[e.jsx("img",{src:`assets/gems/${t}.svg`,alt:`${t} inspiration gem`,width:80,height:80}),e.jsxs(l,{styles:`flex items-center gap-2 border-primary ${t==="regular"?"border-accent":""}`,children:[e.jsx("button",{type:"button",className:"btn btn-ghost text-3xl",onClick:()=>o(t),children:"-"}),e.jsx("p",{className:"text-3xl",children:a[t]}),e.jsx("button",{type:"button",className:"btn btn-ghost text-3xl",onClick:()=>c(t),children:"+"})]}),e.jsx("p",{children:r.character.descriptions.inspiration[t]})]},t))})]})})}export{j as Route};
